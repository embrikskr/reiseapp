'use client'
import { createBrowserClient } from '@/lib/supabaseBrowser'
import { useState } from 'react'
export default function LoginPage(){ const supabase = createBrowserClient(); const [email,setEmail]=useState(''); const [sent,setSent]=useState(false); const [error,setError]=useState<string|null>(null); const signIn=async(e:React.FormEvent)=>{ e.preventDefault(); setError(null); const { error } = await supabase.auth.signInWithOtp({ email, options:{ emailRedirectTo:`${window.location.origin}/` } }); if(error) setError(error.message); else setSent(true) }; return(<div className="min-h-screen flex items-center justify-center p-6"><div className="card w-full max-w-md p-6"><h1 className="text-2xl font-bold">Logg inn</h1><p className="text-slate-500 mt-1">Magisk lenke p√• e-post.</p><form onSubmit={signIn} className="mt-6 space-y-3"><input type="email" value={email} onChange={e=>setEmail(e.target.value)} placeholder="din@epost.no" required/><button className="btn btn-primary w-full">Send magisk lenke</button>{sent && <p className="text-green-600 text-sm">Sjekk e-posten din!</p>}{error && <p className="text-red-600 text-sm">{error}</p>}</form></div></div>) }
